# 物理分辨率 vs 逻辑分辨率：像素的秘密

买显示器时，我们常盯着 4K、2K 这些参数看，但买回家插上电脑，却发现字太小看不清，或者字变大了但发虚。

这背后的核心原因，是**物理分辨率**与**逻辑分辨率**的爱恨情仇，以及 Windows 和 macOS 对此截然不同的处理方式。

---

## 1. 核心概念：三个“分辨率”

要看懂这个问题，必须先区分三个概念：

### 1.1 物理分辨率 (Physical Resolution)
*   **定义**：屏幕硬件上真实的 LED/LCD 灯珠数量。
*   **特性**：出厂即定，无法改变。
*   **例子**：一台 4K 显示器，物理上就有 3840 × 2160 个像素点。

### 1.2 逻辑分辨率 (Logical Resolution)
*   **定义**：操作系统“认为”屏幕的大小。也就是你在写代码、做设计时，软件坐标系里的尺寸 (Points)。
*   **特性**：由操作系统决定，可以调节。
*   **例子**：
    *   如果你把 4K 屏幕设为 200% 缩放，逻辑分辨率就是 1920 × 1080。
    *   此时，操作系统会把 4 个物理像素当成 1 个逻辑像素来用。

### 1.3 渲染分辨率 (Render Resolution)
*   **定义**：显卡实际绘制画面的分辨率。
*   **特性**：通常等于物理分辨率，但在 macOS 的某些缩放模式下，它会大于物理分辨率（下文详解）。

---

## 2. 像素密度 (PPI) 与“视网膜”

为什么我们需要缩放？因为**像素密度 (PPI)** 越来越高了。

*   **低 PPI 时代 (90 PPI)**：如 24寸 1080p。1个逻辑像素 = 1个物理像素 (1x)。字号刚好，但有锯齿。
*   **高 PPI 时代 (160+ PPI)**：如 27寸 4K。如果还用 1x 显示，字会小到像蚂蚁一样。
*   **解决方案**：**缩放 (Scaling)**。用更多的物理像素来显示一个逻辑像素，让字变大，同时边缘更锐利。

---

## 3. Windows 的缩放机制：DPI Scaling

Windows 的处理方式简单粗暴，但兼容性历史包袱重。

### 机制：矢量放大
当你设置“缩放 150%”时，Windows 会告诉软件：“请把你的界面画大 1.5 倍”。
*   **现代软件 (Chrome, Office)**：完美支持。它们会加载更高清的矢量图标和字体，显示效果锐利。
*   **老旧软件 (Legacy Win32)**：**灾难**。它们听不懂“画大 1.5 倍”的指令，还是按 100% 画。Windows 只能强行把它们生成的画面拉伸放大，导致**字体模糊**（像把一张小图强行放大）。

### 2K 屏幕的优势
在 27寸 2K (109 PPI) 下，Windows 默认使用 **100% 缩放**。
*   **优点**：所有软件（包括老古董）都是点对点显示，**绝对清晰**，没有任何模糊问题。
*   **缺点**：字体细腻度不如 4K。

---

## 4. macOS 的缩放机制：HiDPI (Retina)

苹果对画质有洁癖，它的缩放逻辑完全不同。

### 4.1 黄金法则：2x 整数缩放
macOS 最喜欢 **200%** 缩放。
*   **逻辑**：1 个逻辑点 = 2×2 个物理像素。
*   **效果**：UI 大小和 1080p 一样，但清晰度是 4K。
*   **完美搭档**：
    *   **24寸 4K** (PPI 185)
    *   **27寸 5K** (PPI 218) —— Apple Studio Display 的规格。

### 4.2 尴尬的 27寸 4K：非整数缩放
市面上最常见的 27寸 4K 显示器，在 Mac 上其实很尴尬。
*   **如果开 200% (1080p 逻辑)**：字太大了，屏幕装不下多少东西。
*   **如果开“默认” (类似 2K 逻辑)**：这就触发了 macOS 的**非整数缩放**。

#### 幕后发生了什么？(以“模拟 2560x1440”为例)
1.  **渲染 (Render)**：显卡先渲染一张 **5120 × 2880 (5K)** 的超高清画面。
2.  **缩放 (Scale)**：显卡把这张 5K 画面**缩小 (Downsample)** 到 3840 × 2160 (4K) 输出给显示器。

#### 后果
1.  **GPU 负担增加**：显卡实际在跑 5K 分辨率，比跑 4K 多了 78% 的像素量。老款 Intel Mac 可能会掉帧发热。
2.  **理论画质损失**：因为不是点对点，像素之间存在插值。
    *   *实际观感*：在 4K 这种高 PPI 下，肉眼几乎**看不出**模糊，依然非常锐利。

---

## 5. 总结与选购建议

### 场景对比

| 场景 | Windows 表现 | macOS 表现 |
| :--- | :--- | :--- |
| **27寸 2K** | **完美** (100% 缩放，无兼容性问题) | **差** (不支持 HiDPI，字体发虚) |
| **27寸 4K** | **优秀** (150% 缩放，主流软件清晰) | **良好** (需非整数缩放，轻微 GPU 损耗) |
| **27寸 5K** | **优秀** (200% 缩放) | **完美** (200% 整数缩放) |

### 避坑指南

1.  **Mac 用户**：
    *   **死都不买 2K**：除非你只打游戏。
    *   **放心买 4K**：虽然有“非整数缩放”的问题，但在 M1/M2/M3 芯片面前，性能损耗可以忽略不计，画质吊打 2K。
    *   **追求极致买 5K**：如果你是像素眼设计师，5K 才是归宿。

2.  **Windows 用户**：
    *   **2K 最省心**：不用折腾缩放，所有软件都清晰。
    *   **4K 看需求**：如果你常用的工业软件对高 DPI 支持不好（字太小或界面乱），2K 可能是更好的选择。
